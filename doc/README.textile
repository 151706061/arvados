h1. Arvados documentation

This is the source code for "doc.arvados.org":http://doc.arvados.org.

Here's how to build the HTML pages locally so you can preview your
updates before you commit and push.

Additional information is available on the
"'Documentation' page on the Arvados wiki":https://arvados.org/projects/arvados/wiki/Documentation.

h2. 0. Install dependencies

 arvados/doc$ bundle install

h2. 1. Generate HTML pages

 arvados/doc$ rake

h2. 2. Preview HTML pages

 arvados/doc$ rake run
[2014-03-10 09:03:41] INFO  WEBrick 1.3.1
[2014-03-10 09:03:41] INFO  ruby 2.1.1 (2014-02-24) [x86_64-linux]
[2014-03-10 09:03:41] INFO  WEBrick::HTTPServer#start: pid=8926 port=8000

Preview the rendered pages at "http://localhost:8000":http://localhost:8000.

h2. 3. Publish HTML pages inside Workbench

(or some other web site)

You can set @baseurl@ (the URL prefix for all internal links),
@arvados_api_host@ and @arvados_workbench_host@ without changing
@_config.yml@:

 arvados/doc$ rake generate baseurl=/doc arvados_api_host=xyzzy.arvadosapi.com

Make the docs appear at {workbench_host}/doc by creating a symbolic
link in Workbench's @public@ directory, pointing to the generated HTML
tree.

 arvados/doc$ ln -sn ../../../doc/.site ../apps/workbench/public/doc

h2. 4. Delete generated files

 arvados/doc$ rake realclean
